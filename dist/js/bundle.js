(()=>{var e={827:()=>{let e=document.querySelector(".weather__menu-bar"),t=document.querySelector(".weather__menu-bar-btn"),n=document.createElement("div"),c=["臺北市","新北市","桃園市","臺中市","臺南市","高雄市","基隆市","新竹市","嘉義市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","屏東縣","宜蘭縣","花蓮縣","臺東縣","澎湖縣","金門縣","連江縣"],l=document.querySelector("#close");e.addEventListener("click",(l=>{l.target==t&&function(){if(n.classList.add("weather__menu-bar-options"),e.appendChild(n),!n.firstChild)for(i=0;i<c.length;i++){let e=c[i],t=document.createElement("button");t.classList.add("weather__menu-bar-option"),t.value=e,t.innerHTML=e,n.appendChild(t)}}()})),l.addEventListener("click",(()=>{e.removeChild(e.lastChild)}))},746:()=>{window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop,t=document.querySelector(".js-header");e>55?t.classList.add("class","header--colored"):t.classList.remove("class","header--colored")}))}},t={};function n(c){var l=t[c];if(void 0!==l)return l.exports;var a=t[c]={exports:{}};return e[c](a,a.exports,n),a.exports}(()=>{"use strict";function e(e){const t=document.querySelector("head"),n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=`./dist/css/${e}`,t.appendChild(n)}async function t(e,t=null){let n=`https://opendata.cwb.gov.tw/api/v1/rest/datastore/${e}?Authorization=CWB-A91E69B8-CE2E-4DDA-A1F5-A22448AA9D4C&format=JSON`;t&&(n+=`&locationName=${t}`);const c=await fetch(n);return await c.json()}n(746),data[0].address_components[4].long_name,n(827);const c={PoP12h:!0,T:!0,RH:!1,MinCI:!1,WS:!1,MaxAT:!1,Wx:!0,MaxCI:!1,MinT:!0,UVI:!1,WeatherDescription:!1,MinAT:!1,MaxT:!0,WD:!1,Td:!1};const l={Wx:!0,PoP:!0,MinT:!0,CI:!1,MaxT:!0};function a(e){let t="";return e<=1?t='<svg viewbox="-50 -50 100 100">\n        <circle class="sun" cx="0" cy="0" r="22"></circle>\n    </svg>':e<=3?t='<svg viewbox="-50 -50 100 100">\n        <circle class="sun" cx="0" cy="0" r="22"></circle>\n        <circle class="cloud" cx="-30" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-15" cy="30" r="20"></circle>\n        <circle class="cloud" cx="0" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-25" cy="10" r="15"></circle>\n        <circle class="cloud" cx="-7" cy="15" r="15"></circle>\n    </svg>':e<=7?t='<svg viewbox="-63 -40 100 100">\n        <circle class="cloud" cx="-30" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-15" cy="30" r="20"></circle>\n        <circle class="cloud" cx="0" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-25" cy="10" r="15"></circle>\n        <circle class="cloud" cx="-7" cy="15" r="15"></circle>\n    </svg>':e<=22&&(t='<svg viewbox="-63 -40 100 100">\n        <line\n            class="rain"\n            x1="-25"\n            y1="15"\n            x2="-25"\n            y2="35"\n        ></line>\n        <line\n            class="rain"\n            x1="-14"\n            y1="5"\n            x2="-14"\n            y2="25"\n        ></line>\n        <line class="rain" x1="-5" y1="20" x2="-5" y2="45"></line>\n        <circle class="cloud" cx="-30" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-15" cy="30" r="20"></circle>\n        <circle class="cloud" cx="0" cy="30" r="20"></circle>\n        <circle class="cloud" cx="-25" cy="10" r="15"></circle>\n        <circle class="cloud" cx="-7" cy="15" r="15"></circle>\n    </svg>'),(new DOMParser).parseFromString(t,"text/html").querySelector("svg")}let r=null,s=null,i=0;const o=document.querySelector(".weather__render"),d=document.querySelector(".weather__render-observer"),m=new IntersectionObserver((([e])=>{e&&e.isIntersecting&&(function(){const e=3*i,t=Math.min(r.length,3*(i+1));e>t&&m.unobserve(d);for(let n=e;n<t;n++){const e=r[n],t=document.createElement("label");t.classList.add("weather__itme");const c=document.createElement("input");c.classList.add("switch_weather"),c.type="checkbox";const l=document.createElement("div");l.classList.add("weather__weekWeather"),h(e.locationName,l);const s=document.createElement("div");s.textContent=e.locationName,s.classList.add("weather__info-county");const i=document.createElement("div");i.textContent=`${e.MaxT[0]}°C`,i.classList.add("weather__info-temperature");const d=document.createElement("div");d.textContent=e.Wx[0],d.classList.add("weather__info-meteorological");const m=document.createElement("div");m.appendChild(i),m.appendChild(d);const u=document.createElement("div");u.classList.add("weather__info"),u.appendChild(s),u.appendChild(m);const p=document.createElement("div");p.classList.add("weather__chart");for(let t=0;t<e.time.length;t++){const n=document.createElement("div");n.classList.add("weather__dayweather");const c=document.createElement("div");c.classList.add("weather__chart-time");const l=new Date(e.time[t]);c.textContent=`${l.getHours()} ${l.getHours()>=12?"PM":"AM"}`;const r=document.createElement("div");r.classList.add("weather__dayweather-icon"),r.appendChild(a(e.Wx2[t]));const s=document.createElement("div");s.classList.add("weather__chart-temperature");const i=document.createElement("div"),o=document.createElement("div");i.textContent=`${e.MaxT[t]}°`,o.textContent=`${e.MinT[t]}°`,s.appendChild(i),s.appendChild(o),n.appendChild(c),n.appendChild(r),n.appendChild(s),p.appendChild(n)}t.appendChild(c),t.appendChild(l),t.appendChild(u),t.appendChild(p),o.appendChild(t)}}(),i++)})),u={0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"};function h(e,t){const n=s.findIndex((t=>t.locationName==e)),c=s[n];for(let e=0;e<c.time.length;e++){const n=document.createElement("div");n.classList.add("weather__weekWeather-item");const l=new Date(c.time[e]).getDay(),r=document.createElement("h3");r.textContent=u[l],n.appendChild(r),n.append(a(c.Wx2[e])),t.appendChild(n)}}window.addEventListener("DOMContentLoaded",(()=>{!async function(){r=await async function(e=null){return function(e){const t=[],n=e.records.location;let c=[];for(let e=0,a=n.length;e<a;e++){let a={};const r=n[e],s=r.weatherElement;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(!l[`${n.elementName}`])continue;let r=n.time,i=(r.length,null),o=[],d=[];for(let l=0;(i=r[l])&&(0==e&&0==t&&c.push(i.startTime),"Wx"==n.elementName&&d.push(i.parameter.parameterValue),o.push(i.parameter.parameterName.trim()),!(o.length>=3));l++);a[`${n.elementName}`]=o,d.length>0&&(a[`${n.elementName}2`]=d)}a.time=c,a.locationName=r.locationName,t.push(a)}return t}(await t("F-C0032-001",e))}(),s=await async function(e=null){return function(e){const t=[],n=e.records.locations[0].location;let l=[];for(let e=0,a=n.length;e<a;e++){let a={};const r=n[e],s=r.weatherElement;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(!c[`${n.elementName}`])continue;let r=n.time,i=(r.length,null),o=[],d=[],m=null;for(let c=0;i=r[c];c++){const c=new Date(i.startTime);if((!m||m.getDate()!=c.getDate())&&(0==e&&0==t&&l.push(i.startTime),"Wx"==n.elementName&&d.push(i.elementValue[1].value.trim()),o.push(i.elementValue[0].value.trim()),m=c,o.length>=7))break}a[`${n.elementName}`]=o,d.length>0&&(a[`${n.elementName}2`]=d)}a.time=l,a.locationName=r.locationName,t.push(a)}return t}(await t("F-D0047-091",e))}(),m.observe(d)}()})),e("base.css"),e("layout.css"),e("component.css")})()})();